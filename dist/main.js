!function(){"use strict";var t,i;t=class{constructor(t,i,s){this.position={x:100,y:100},this.velocity={x:0,y:0},this.width=30,this.height=30,this.context=t,this.canvas=i,this.platform=s,this.keys={right:{pressed:!1},left:{pressed:!1}},window.addEventListener("keydown",(t=>{let{keyCode:i}=t;switch(i){case 65:console.log("left"),this.keys.left.pressed=!0;break;case 83:console.log("down");break;case 68:console.log("right"),this.keys.right.pressed=!0;break;case 87:console.log("up"),this.velocity.y-=10}})),window.addEventListener("keyup",(t=>{let{keyCode:i}=t;switch(i){case 65:console.log("left"),this.keys.left.pressed=!1;break;case 83:console.log("down");break;case 68:console.log("right"),this.keys.right.pressed=!1;break;case 87:console.log("up"),this.velocity.y-=10}}))}draw(){this.context.fillStyle="red",this.context.fillRect(this.position.x,this.position.y,this.width,this.height)}update(){this.position.y+=this.velocity.y,this.position.x+=this.velocity.x,this.draw(),this.platform.draw(),this.position.y+this.height+this.velocity.y<=this.canvas.height?this.velocity.y+=.5:this.velocity.y=0}animate(){let t=this.animate.bind(this);requestAnimationFrame(t),this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.update(),this.keys.right.pressed?this.velocity.x=5:this.keys.left.pressed?this.velocity.x=-5:this.velocity.x=0,this.position.y+this.height<=this.platform.position.y&&this.position.y+this.height+this.velocity.y>=this.platform.position.y&&this.position.x+this.width>=this.platform.position.x&&this.position.x<=this.platform.position.x+this.platform.width&&(this.velocity.y=0)}},i=class{constructor(t,i){this.position={x:300,y:500},this.width=200,this.height=20,this.context=t,this.canvas=i}draw(){this.context.fillStyle="blue",this.context.fillRect(this.position.x,this.position.y,this.width,this.height)}},document.addEventListener("DOMContentLoaded",(()=>{const s=document.getElementById("canvas"),e=s.getContext("2d");s.width=800,s.height=600;const o=new i(e,s);new t(e,s,o).animate()}))}();
//# sourceMappingURL=main.js.map